{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Weekly Content Schema",
  "type": "object",
  "required": [
    "id",
    "title",
    "releaseDate",
    "dailyPlans"
  ],
  "additionalProperties": false,
  "properties": {
    "id": {
      "$ref": "#/definitions/cuid"
    },
    "title": {
      "type": "string",
      "maxLength": 100
    },
    "releaseDate": {
      "type": "string",
      "format": "date",
      "description": "The start date of this content week (e.g., '2025-07-14' for Monday)"
    },
    "dailyPlans": {
      "type": "array",
      "minItems": 7,
      "maxItems": 7,
      "items": {
        "$ref": "#/definitions/dailyPlanReference"
      },
      "description": "References to daily plans for each of the 7 days of the week."
    }
  },
  "definitions": {
    "dailyPlanReference": {
      "type": "object",
      "required": [
        "dayNumberInWeek",
        "dailyPlanSlug"
      ],
      "properties": {
        "dayNumberInWeek": {
          "type": "integer",
          "minimum": 1,
          "maximum": 7,
          "description": "Day number within the week (1=Monday, 7=Sunday)"
        },
        "dailyPlanSlug": {
          "$ref": "#/definitions/slug"
        }
      }
    },
    "cuid": {
      "type": "string",
      "pattern": "^[a-z0-9]+$",
      "minLength": 24,
      "maxLength": 30,
      "description": "CUID2 - Collision-resistant, URL-friendly unique identifier."
    },
    "slug": {
      "type": "string",
      "pattern": "^[a-z0-9]+(?:-[a-z0-9]+)*$",
      "minLength": 3,
      "maxLength": 100,
      "description": "A unique, human-readable slug for identification (lowercase, alphanumeric, hyphens)."
    }
  }
}